<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
  <meta charset="UTF-8">
  <title>Danh sách sách</title>
</head>
<body>
<h2>Danh sách sách</h2>

<table border="1">
  <thead>
  <tr>
    <th>Tên sách</th>
    <th>Tác giả</th>
    <th>ISBN</th>
    <th>Số trang</th>
    <th>Thể loại</th>
    <th>Mô tả</th>
    <th>Hành động</th>
  </tr>
  </thead>
  <tbody>
  <tr th:each="book : ${books}">
    <td th:text="${book.name}"></td>
    <td th:text="${book.author}"></td>
    <td th:text="${book.bookDetail.isbn}"></td>
    <td th:text="${book.bookDetail.numbersOfPage}"></td>
    <td th:text="${book.category.name}"></td>
    <td th:text="${book.category.description}"></td>
    <td>
      <form th:action="@{/books/delete}" method="post" style="display:inline;">
        <input type="hidden" name="id" th:value="${book.id}"/>
        <button type="submit">Xoá</button>
      </form>

      <form th:action="@{/books/edit}" method="post" style="display:inline;">
        <input type="hidden" name="id" th:value="${book.id}"/>
        <input type="hidden" name="name" th:value="${book.name}"/>
        <input type="hidden" name="author" th:value="${book.author}"/>
        <input type="hidden" name="isbn" th:value="${book.bookDetail.isbn}"/>
        <input type="hidden" name="page" th:value="${book.bookDetail.numbersOfPage}"/>
        <input type="hidden" name="categoryName" th:value="${book.category.name}"/>
        <input type="hidden" name="categoryDesc" th:value="${book.category.description}"/>
        <button type="submit">Sửa</button>
      </form>
    </td>
  </tr>
  </tbody>
</table>

<hr>

<h3>Thêm sách mới</h3>
<form th:action="@{/books/add}" method="post">
  <label>Tên sách:</label><input type="text" name="name"/><br>
  <label>Tác giả:</label><input type="text" name="author"/><br>
  <label>ISBN:</label><input type="text" name="isbn"/><br>
  <label>Số trang:</label><input type="number" name="page"/><br>
  <label>Thể loại:</label><input type="text" name="categoryName"/><br>
  <label>Mô tả thể loại:</label><input type="text" name="categoryDesc"/><br>
  <button type="submit">Thêm sách</button>
</form>

</body>
</html>
